<div class="container" ng-controller="adminOrdersEdit">
    <div class="row">
        <div class="col-sm-12">
            <h3 class="v-margin-2 padding-0">Order Details</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-8">
            <ul class="form-tiny labelx2 center-block">
                <li>
                    <label>Inspector</label>
                    <input ng-value="item._diag.firstName && item._diag.firstName + ' ' + item._diag.lastName || item._diag.email" />
                </li>
                <li>
                    <label for="address">Diag Address</label>
                    <input ng-disabled="true" data-address model="item" field="address" name="address" type="text" placeholder="Diag Address" class="fullwidth max-w-500">
                </li>
                <li>
                    <label>Diag Start</label>
                    <input ng-disabled="true" type="text" class="max-w-150" ng-value="momentFormat(item.diagStart,'DD-MM-YY HH:mm')" />
                </li>
                <li>
                    <label>Keys Picking Address</label>
                    <input type="text" disabled ng-model="item.keysAddress" class="fullwidth max-w-500" />
                </li>
                <li>
                    <label>Keys Picking Time Range</label>
                    <div class="inline-block">
                        <input type="text" disabled class="max-w-150" ng-value="momentFormat(item.keysTimeFrom,'HH:mm')" />
                        <input type="text" disabled class="max-w-150" ng-value="momentFormat(item.keysTimeTo,'HH:mm')" />
                    </div>
                </li>
                <li ng-show="!isOwner()">
                    <label>Landlord Fullname</label>
                    <input ng-value="item.landLordFullName" />
                </li>
                <li ng-show="!isOwner()">
                    <label>Landlord Email</label>
                    <input ng-value="item.landLordEmail" />
                </li>
                <li>
                    <label>Observations</label>
                    <textarea ng-disabled="true" type="text" class="fullwidth min-height-100 no-resize" ng-view="item.obs"></textarea>
                </li>
                <li>
                    <label>Debriefing pdf file: {{(pdfFileInfo && "("+pdfFileInfo.filename+")")||"(not available yet)"}}</label>
                    <div class="inline-block">
                        <button ng-disabled="!item.pdfId" class="btn btn-default" ng-click="downloadFile()">Download</button>
                        <i class="fa fa-question" tooltip-placement="top" uib-tooltip="Files are streamed directly from database. Please, be patient."></i>
                    </div>
                </li>
            </ul>
        </div>
        <div class="col-sm-4">
            <ul class="form-tiny center-block">
                <li>
                    <label>Diags</label>
                    <ul class="form-tiny center-block inline-block">
                        <li ng-repeat="(key,x) in diags" class="" ng-if="item.diags[x.name]==true">{{x.label}}
                        </li>
                    </ul>
                </li>
                <li>
                    <label>Price (eur)</label>
                    <input ng-disabled="true" type="number" class="max-w-60 text-right" placeholder="Price" ng-model="item.price">
                </li>
                <li>
                    <label for="status">Status</label>
                    <input type="text" disabled class="max-w-100" ng-value="item.status" />
                </li>
            </ul>
        </div>
    </div>
    <div class="row" ng-show="item._id && item.status!=='prepaid' && item.status !=='completed'">
        <div class="col-sm-12">
            <button ng-view="params.prevRoute" class="btn btn-default" ng-click="route(params.prevRoute)">Back</button>
            <button ng-disabled="state.working() || requesting" class="btn btn-success" ng-click="pay()">Pay now</button>
        </div>
    </div>
</div>
<modal-confirm open="confirm"></modal-confirm>
