<div class="row">
    <div class="col-sm-12 padding-none">
        <ol class="breadcrumb">
            <li><a class="link" ng-click="route('settings')">Settings</a></li>
            <li>Price Modifiers</li>
        </ol>
    </div>
</div>
<div class="container" ng-controller="diags_ctrl_settings">
    <div class="row margin-top-two">
        <div class="col-sm-12">
            <h2>Special days multipliers</h2>
        </div>
        <div class="col-sm-12">
            <table class="table table-striped table-condensed link questions">
                <tr ng-repeat="(k,o) in priceModifiers">
                    <td>
                        <label class="minimal" ng-bind="k"></label>
                        <input class="diags-input minimal" placeholder="%" ng-model="item.pricePercentageIncrease[o]" />
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="row margin-top-two">
        <div class="col-sm-12">
            <h2>Department multipliers</h2>
            <p>For example, department 94 equal to 0.9 it would mean that in the department 94 the price is 90% of the normal price, and 1.2 should result in price 20% higher.
                <br> By default, if not being shown, each department has as value 1.0 which do not alter prices.
                <br> Remember, in a real case scenario price is also rounded down to nearest 10th after applying this modifier.
            </p>


            <table class="table table-striped table-condensed link questions" style="margin-bottom:10px">
                <thead>
                    <tr>
                        <th style="padding-left:0px">Department</th>
                        <th>Multiplier value</th>
                        <th>
                            Example
                        </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="(k,o) in item.metadata.departmentMultipliers">
                        <td style="padding-left:0px" ng-bind="k" ng-click="selectDepartmentMultiplierItem(k,o)">
                        </td>
                        <td ng-bind="o" ng-click="selectDepartmentMultiplierItem(k,o)">

                        </td>
                        <td ng-bind="(o*departmentMultiplier.examplePrice).toFixed(2)">

                        </td>
                        <td>
                            <button type="button" class="close" ng-click="removeDepartmentMultiplier(k)" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding-left:0px">
                            <input type="text" ng-model="departmentMultiplier.department">
                        </td>
                        <td>
                            <input type="text" ng-model="departmentMultiplier.value">
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td><label>Example&nbsp;price</label></td>
                        <td><input type="text" ng-model="departmentMultiplier.examplePrice"></td>
                    </tr>
                </tfoot>




            </table>
            <button ng-disabled="false" class="btn diags-btn bg-azure-radiance" ng-click="addDepartmentMultiplier()">
                <span ng-show="!departmentMultiplierHasDepartment()">Ajouter</span>
                <span ng-show="departmentMultiplierHasDepartment()">Actualiser</span>
            </button>



        </div>
        <div class="col-sm-12">

        </div>
    </div>
    <div class="row margin-top-two margin-bottom-three">
        <div class="col-sm-12">
            <button ng-disabled="state.working()" class="btn diags-btn bg-azure-radiance" ng-click="validate()">Enregistrer</button>
        </div>
    </div>
</div>
